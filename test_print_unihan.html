<html>
<head>
<meta charset="utf-8" />
<title>Chinese Text conv test</title>
<style>
body, textarea {
  font-size: 18pt;
}
ruby {
  padding-width: 1px;
  border-width: 1px;
  background-color: #ddd;
}
</style>
<script>
function EncodeHTMLForm( data )
{
    var ps = "";

    for(var k in data) {
        ps += "&" + encodeURIComponent(k) + '=' + encodeURIComponent(data[k]);
    }

    return ps;
}

function changeResult(type) {
  var data = { txt: document.f1.txt.value, type: type, mode: 'html'};

  var xhr;
  xhr = new XMLHttpRequest();
  xhr.onreadystatechange = function() {
    if (xhr.readyState == 4 && xhr.status == 200) {
      document.getElementById("conv_result").innerHTML = xhr.responseText;
    }
  }
  xhr.open("POST", "print_unihan_reading.cgi", true);
  xhr.send(EncodeHTMLForm(data));
}
</script>
</head>
<body>
<form action="javascript:void()" name="f1">
<p>
<textarea name="txt" cols="40" rows="10">
飓风戈登的气象历史持续了约13天的时间，这场风暴经久不散，行进路径飘忽不定且极不寻常。系统起初于1994年11月9日在加勒比海西南部的巴拿马附近海域形成，以热带低气压强度掠过尼加拉瓜并在该国近海徘徊了数天时间，然后略微增强成热带风暴并蜿蜒北上进入大安的列斯群岛海域，虽然途经洋面水温较高，但持续存在的风切变令其无法获得大幅增强。接下来戈登缓慢向北转向，之后又转朝西北进发，先后在牙买加东部和古巴东部实现两次登陆，同时还给伊斯帕尼奥拉岛西部带去了倾盆大雨。戈登以热带风暴强度在穿越佛罗里达礁岛群的过程中实现第四次登陆，并与上层对流层中的一个气旋以及一系列的气旋式低气压发生相互作用，令风暴拥有了部分亚热带特征。接下来几天时间里，位于墨西哥湾的系统很不寻常地拥有热带和亚热带天气系统的混合特征，然后再度恢复成热带风暴并又一次在佛罗里达半岛登陆。穿过该半岛后，系统进入大西洋，并爆发性增强成一级飓风。戈登在漂移过程中曾短暂威胁到北卡罗莱纳州，但之后又转向南下，减弱成一股强度较小的热带风暴并在佛罗里达州东海岸进行了第六次，也是最后一次登陆。
</textarea></p>
<p>
<input type="button" name="type" value="Cantonese" onClick="changeResult('Cantonese')" />
<input type="button" name="type" value="Mandarin" onClick="changeResult('Mandarin')" />
<input type="hidden" name="mode" value="html" />
<!-- input type="submit" onClick="changeResult();"/ -->
</p>
</form>
<p style="width:40em;" id="conv_result">Result is here.. </p>
</body>
</html>

